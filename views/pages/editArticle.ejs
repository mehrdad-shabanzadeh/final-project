<!DOCTYPE html>
<html lang="en">
	<head>
		<%- include('../partials/headTag.ejs') %>
		<!-- <link rel="stylesheet" type="text/css" href="/css/signup.css" /> -->
		<title>Dashboard</title>
	</head>
	<body>
		<!-- Navbar -->
		<%- include('../partials/navbar.ejs') %>

		<nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
			<a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="/api/user/dashboard">DASHBOARD</a>
			<ul class="navbar-nav px-3">
				<li class="nav-item text-nowrap">
					<a class="nav-link" href="#">Sign out</a>
				</li>
			</ul>
		</nav>

		<div class="container-fluid">
			<div class="row">
				<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
					<div class="sidebar-sticky pt-3">
						<ul class="nav flex-column">
							<li class="nav-item">
								<div style="width: 170px; height: 200px;">
									<img src="/uploads/<%= user.avatar ? user.avatar : 'defaultProfileAvatar.png' %> " alt="Image" class="rounded" style="width: 100%; height: 100%;" />
								</div>
							</li>
							<li class="nav-item">
								<br />
								<h4 class="mt-2"><%= user.firstName %> <%= user.lastName %></h4>
							</li>
						</ul>
						<a type="button" href="/api/user/editProfile" class="btn btn-primary">Edit Profile</a>
					</div>
				</nav>

				<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4 mt-4">
					<form>
						<div class="d-flex justify-content-between">
							<h3>EDIT ARTICLE "<%= article.title %>"</h3>
							<div>
								<a href="/api/user/dashboard" id="cancelChanges" class="btn btn-secondary mb-2">Cancel</a>
								<button id="saveChanges" class="btn btn-success mb-2" data-id="<%= article._id %> ">Submit changes</button>
							</div>
						</div>
						<div id="alert" role="alert"></div>
						<div class="form-group">
							<label for="articleTitle">Title</label>
							<input type="text" name="articleTitle" class="form-control" id="articleTitle" value="<%= article.title %>" autofocus />
						</div>
						<div class="form-group">
							<!-- <label for="articleImage">Choose an image for your article: </label> -->
							<input type="file" name="articleImage" id="articleImage" />
						</div>
						<div class="form-group">
							<!-- <label for="articleBody">Article Body</label> -->
							<textarea id="articleBody" name="articleBody" class="form-control" rows="10"><%= article.body %></textarea>
						</div>
					</form>
				</main>
			</div>
		</div>

		<%- include("../partials/scripts.ejs") %>
		<script src="/js/editArticle.js"></script>
	</body>
</html>
